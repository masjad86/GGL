<div onload="load();">
    <div id="ggl-wrapper">
        <div id="ggl-page" [ngClass]="{'admin-view': isAdminView, 'expand': isAdminMenuBarExpanded}">
            <ggl-banner *ngIf="!isAdminView" [nextEvent]="nextEvent" [title]="title"></ggl-banner>
            <ggl-nav-menu (expand)="onExpand" [mode]="appMode" [items] ="menuItems"></ggl-nav-menu>
            <ggl-global-header *ngIf="isAdminView"></ggl-global-header>
            <div class="content" [ngClass]="{'admin-content': isAdminView}">
                <router-outlet></router-outlet>
            </div>
            <ggl-countdown-timer *ngIf="!isAdminView && nextEvent" (onHide)="hideTimer" [nextEventDate]="nextEvent.date">
            </ggl-countdown-timer>
            <ggl-getting-started *ngIf="!isAdminView"></ggl-getting-started>
        </div>
        <!-- END ggl-page -->
    </div>
    <ggl-footer [isAdminView]="isAdminView"></ggl-footer>
    <script type="text/javascript">
        var currentEventName = "Are Getting Married";
        var currentEventDate = new Date(2017, 11, 28); //Dec 28, 2017
        var currentEventType = "M"; // Marriage | Others
        var currentEventPlace = "Shahjahanpur, Uttar Pradesh";
        var upcomingEventDate = new Date(2018, 1, 28); // 28.1.2018
        var firstPersonName = "";
        var secondPersonName = "";

        function load() {
            var date = new Date();
            $("#upcomingEventDate").text(upcomingEventDate.getDate() + "." + parseInt(upcomingEventDate.getMonth()) + "." + upcomingEventDate.getFullYear());
            $("#copyrightYear").text(date.getFullYear());
            $("#eventDate").text(currentEventDate.toDateString());
            $("#eventPlace").text(currentEventPlace);
            if (currentEventType === "M") {
                firstPersonName = "Jack Wood";
                secondPersonName = "Rose Thomas";
                currentEventName = "Are Getting Married";
                $("#marriageContainer").show();
                $("#nonMarriageContainer").hide();
                $("#groomName").text(firstPersonName);
                $("#brideName").text(secondPersonName);

            } else {
                currentEventName = "Celebrating with thier relatives";
                firstPersonName = "Jack Wood";
                $("#marriageContainer").hide();
                $("#nonMarriageContainer").show();
                $("#personName").text(firstPersonName);
            }

            $("#eventType").text(currentEventName);
        }
    </script>

    <script>
        var $item = $('.carousel .item');
        var $wHeight = $(window).height();
        $item.eq(0).addClass('active');
        $item.height($wHeight);
        $item.addClass('full-screen');

        $('.carousel img').each(function () {
            var $src = $(this).attr('src');
            var $color = $(this).attr('data-color');
            $(this).parent().css({
                'background-image': 'url(' + $src + ')',
                'background-color': $color
            });
            $(this).remove();
        });

        $(window).on('resize', function () {
            $wHeight = $(window).height() - 50;
            $item.height($wHeight);
        });

        $('.carousel').carousel({
            interval: 5000,
            pause: "false"
        });
    </script>
</div>